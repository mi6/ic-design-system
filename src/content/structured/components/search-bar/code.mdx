---
path: "/components/search-bar/code"

date: "2023-10-25"

title: "Search bar"

status: "BETA"

subTitle: "The search bar allows users to search for information using keywords or phrases."

contribute: "https://github.com/mi6/ic-design-system/tree/main/src/content/structured/components/search-bar"

tabs:
  [
    { title: "Guidance", path: "/components/search-bar" },
    { title: "Code", path: "/components/search-bar/code" },
    { title: "Accessibility", path: "/components/search-bar/accessibility" },
  ]
---

import { IcSearchBar, IcTypography } from "@ukic/react";

## Component demo

export const snippets = [
  {
    language: "Web component",
    snippet: `<ic-search-bar label="What is your favourite coffee?"></ic-search-bar>
<script>
  const searchBar = document.querySelector("ic-search-bar");
  searchBar.options = [
    { label: "Espresso", value: "espresso" },
    { label: "Double Espresso", value: "doubleespresso" },
    { label: "Flat White", value: "flatwhite" },
    { label: "Cappuccino", value: "cappuccino" },
    { label: "Americano", value: "americano" },
    { label: "Mocha", value: "mocha" },
  ];
  searchBar.addEventListener('icChange', (ev) => console.log(ev.detail.value));
  searchBar.addEventListener('icSubmitSearch', (ev) => console.log(ev.detail.value))
</script>`,
  },
  {
    language: "React",
    snippet: `<IcSearchBar
  label="What is your favourite coffee?"
  options={[
    { label: "Espresso", value: "espresso" },
    { label: "Double Espresso", value: "doubleespresso" },
    { label: "Flat White", value: "flatwhite" },
    { label: "Cappuccino", value: "cappuccino" },
    { label: "Americano", value: "americano" },
    { label: "Mocha", value: "mocha" },
  ]}
  onIcChange={(ev) => console.log(ev.detail.value)}
  onIcSubmitSearch={(ev) => console.log(ev.detail.value)}
/>`,
  },
];

<ComponentPreview snippets={snippets}>
  <IcSearchBar
    label="What is your favourite coffee?"
    options={[
      { label: "Espresso", value: "espresso" },
      { label: "Double Espresso", value: "doubleespresso" },
      { label: "Flat White", value: "flatwhite" },
      { label: "Cappuccino", value: "cappuccino" },
      { label: "Americano", value: "americano" },
      { label: "Mocha", value: "mocha" },
    ]}
    onIcChange={(ev) => console.log("onIcChange", ev.detail.value)}
    onIcSubmitSearch={(ev) => console.log("onIcSubmitSearch", ev.detail.value)}
  />
</ComponentPreview>

## Search bar details

<ComponentDetails component="ic-search-bar" />

## Variants

### With options (no filtering)

export const optionsNoFiltering = [
  {
    language: "Web component",
    snippet: `<ic-search-bar
  label="What is your favourite coffee?"
  disable-filter="true"
>
</ic-search-bar>
<br>
<ic-typography>
  All options will be displayed as you type
</ic-typography>
<script>
  document.querySelector("ic-search-bar").options = [
    { label: "Espresso", value: "espresso" },
    { label: "Double Espresso", value: "doubleespresso" },
    { label: "Flat White", value: "flatwhite" },
    { label: "Cappuccino", value: "cappuccino" },
    { label: "Americano", value: "americano" },
    { label: "Mocha", value: "mocha" },
  ];
</script>`,
  },
  {
    language: "React",
    snippet: `<IcSearchBar
  label="What is your favourite coffee?"
  disableFilter
  options={[
    { label: "Espresso", value: "espresso" },
    { label: "Double Espresso", value: "doubleespresso" },
    { label: "Flat White", value: "flatwhite" },
    { label: "Cappuccino", value: "cappuccino" },
    { label: "Americano", value: "americano" },
    { label: "Mocha", value: "mocha" },
  ]}
/>
<br/>
<IcTypography>All options will be displayed as you type</IcTypography>`,
  },
];

<ComponentPreview
  snippets={optionsNoFiltering}
  style={{ flexDirection: "column", alignItems: "center" }}
>
  <IcSearchBar
    label="What is your favourite coffee?"
    disableFilter
    options={[
      { label: "Espresso", value: "espresso" },
      { label: "Double Espresso", value: "doubleespresso" },
      { label: "Flat White", value: "flatwhite" },
      { label: "Cappuccino", value: "cappuccino" },
      { label: "Americano", value: "americano" },
      { label: "Mocha", value: "mocha" },
    ]}
  />
  <br />
  <IcTypography variant="p">
    All options will be displayed as you type
  </IcTypography>
</ComponentPreview>

### With helper text

export const withHelperText = [
  {
    language: "Web component",
    snippet: `<ic-search-bar
  label="What is your favourite coffee?"
  helper-text="Some helper text"
>
</ic-search-bar>
<script>
  document.querySelector("ic-search-bar").options = [
    { label: "Espresso", value: "espresso" },
    { label: "Double Espresso", value: "doubleespresso" },
    { label: "Flat White", value: "flatwhite" },
    { label: "Cappuccino", value: "cappuccino" },
    { label: "Americano", value: "americano" },
    { label: "Mocha", value: "mocha" },
  ];
</script>`,
  },
  {
    language: "React",
    snippet: `<IcSearchBar
  label="What is your favourite coffee?"
  helperText="Some helper text"
  options={[
    { label: "Espresso", value: "espresso" },
    { label: "Double Espresso", value: "doubleespresso" },
    { label: "Flat White", value: "flatwhite" },
    { label: "Cappuccino", value: "cappuccino" },
    { label: "Americano", value: "americano" },
    { label: "Mocha", value: "mocha" },
  ]}
/>`,
  },
];

<ComponentPreview snippets={withHelperText}>
  <IcSearchBar
    label="What is your favourite coffee?"
    helperText="Some helper text"
    options={[
      { label: "Espresso", value: "espresso" },
      { label: "Double Espresso", value: "doubleespresso" },
      { label: "Flat White", value: "flatwhite" },
      { label: "Cappuccino", value: "cappuccino" },
      { label: "Americano", value: "americano" },
      { label: "Mocha", value: "mocha" },
    ]}
  />
</ComponentPreview>

### With hidden label

export const withHiddenLabel = [
  {
    language: "Web component",
    snippet: `<ic-search-bar label="What is your favourite coffee?" hide-label="true"
>
</ic-search-bar>
<script>
  const searchBar = document.querySelector("ic-search-bar");
  searchBar.options = [
    { label: "Espresso", value: "espresso" },
    { label: "Double Espresso", value: "doubleespresso" },
    { label: "Flat White", value: "flatwhite" },
    { label: "Cappuccino", value: "cappuccino" },
    { label: "Americano", value: "americano" },
    { label: "Mocha", value: "mocha" },
  ];
</script>`,
  },
  {
    language: "React",
    snippet: `<IcSearchBar
  label="What is your favourite coffee?"
  hideLabel
  options={[
    { label: "Espresso", value: "espresso" },
    { label: "Double Espresso", value: "doubleespresso" },
    { label: "Flat White", value: "flatwhite" },
    { label: "Cappuccino", value: "cappuccino" },
    { label: "Americano", value: "americano" },
    { label: "Mocha", value: "mocha" },
  ]}
/>`,
  },
];

<ComponentPreview snippets={withHiddenLabel}>
  <IcSearchBar
    label="What is your favourite coffee?"
    hideLabel
    options={[
      { label: "Espresso", value: "espresso" },
      { label: "Double Espresso", value: "doubleespresso" },
      { label: "Flat White", value: "flatwhite" },
      { label: "Cappuccino", value: "cappuccino" },
      { label: "Americano", value: "americano" },
      { label: "Mocha", value: "mocha" },
    ]}
  />
</ComponentPreview>

### Disabled

export const disabled = [
  {
    language: "Web component",
    snippet: `<ic-search-bar label="What is your favourite coffee?" disabled="true"
>
</ic-search-bar>
<script>
  const searchBar = document.querySelector("ic-search-bar");
  searchBar.options = [
    { label: "Espresso", value: "espresso" },
    { label: "Double Espresso", value: "doubleespresso" },
    { label: "Flat White", value: "flatwhite" },
    { label: "Cappuccino", value: "cappuccino" },
    { label: "Americano", value: "americano" },
    { label: "Mocha", value: "mocha" },
  ];
</script>`,
  },
  {
    language: "React",
    snippet: `<IcSearchBar
  label="What is your favourite coffee?"
  disabled
  options={[
    { label: "Espresso", value: "espresso" },
    { label: "Double Espresso", value: "doubleespresso" },
    { label: "Flat White", value: "flatwhite" },
    { label: "Cappuccino", value: "cappuccino" },
    { label: "Americano", value: "americano" },
    { label: "Mocha", value: "mocha" },
  ]}
/>`,
  },
];

<ComponentPreview snippets={disabled}>
  <IcSearchBar
    label="What is your favourite coffee?"
    disabled
    options={[
      { label: "Espresso", value: "espresso" },
      { label: "Double Espresso", value: "doubleespresso" },
      { label: "Flat White", value: "flatwhite" },
      { label: "Cappuccino", value: "cappuccino" },
      { label: "Americano", value: "americano" },
      { label: "Mocha", value: "mocha" },
    ]}
  />
</ComponentPreview>

### Size small

export const sizeSmall = [
  {
    language: "Web component",
    snippet: `<ic-search-bar label="What is your favourite coffee?" size="small"
>
</ic-search-bar>
<script>
  const searchBar = document.querySelector("ic-search-bar");
  searchBar.options = [
    { label: "Espresso", value: "espresso" },
    { label: "Double Espresso", value: "doubleespresso" },
    { label: "Flat White", value: "flatwhite" },
    { label: "Cappuccino", value: "cappuccino" },
    { label: "Americano", value: "americano" },
    { label: "Mocha", value: "mocha" },
  ];
</script>`,
  },
  {
    language: "React",
    snippet: `<IcSearchBar
  label="What is your favourite coffee?"
  size="small"
  options={[
    { label: "Espresso", value: "espresso" },
    { label: "Double Espresso", value: "doubleespresso" },
    { label: "Flat White", value: "flatwhite" },
    { label: "Cappuccino", value: "cappuccino" },
    { label: "Americano", value: "americano" },
    { label: "Mocha", value: "mocha" },
  ]}
/>`,
  },
];

<ComponentPreview snippets={sizeSmall}>
  <IcSearchBar
    label="What is your favourite coffee?"
    size="small"
    options={[
      { label: "Espresso", value: "espresso" },
      { label: "Double Espresso", value: "doubleespresso" },
      { label: "Flat White", value: "flatwhite" },
      { label: "Cappuccino", value: "cappuccino" },
      { label: "Americano", value: "americano" },
      { label: "Mocha", value: "mocha" },
    ]}
  />
</ComponentPreview>

## Custom filtering example

This example shows how to filter data asynchronously when the value in the input field changes. The data is mocked and displayed after a one second delay, but could be replaced with a call to an API or database.

export const customFiltering = [
  {
    language: "Web component",
    snippet: `<ic-search-bar 
  label="What is your favourite coffee?" 
  debounce="300" 
  disable-filter="true">
</ic-search-bar>
<script>
  var mockData = [
    { label: "Espresso", value: "espresso" },
    { label: "Double Espresso", value: "doubleespresso" },
    { label: "Flat White", value: "flatwhite" },
    { label: "Cappuccino", value: "cappucino" },
    { label: "Americano", value: "americano" },
    { label: "Mocha", value: "mocha" },
  ];
  var select = document.querySelector("ic-search-bar");
  select.addEventListener("icChange", function (event) {
    const searchFor = event.detail.value;
    if (searchFor.length > 1) {
      mockAPI = (query) => {
        filteredResults = mockData.filter((item) =>
          item.label.toLowerCase().includes(query.toLowerCase())
        );
        return new Promise((resolve) => {
          setTimeout(() => resolve(filteredResults), 1000)
        });
      };
      mockAPI(searchFor).then((newResults) => { select.options = newResults });
    } else {
      select.options = [];
    }
  });
</script>`,
  },
  {
    language: "React",
    snippet: `const mockData = [
  { label: "Espresso", value: "espresso" },
  { label: "Double Espresso", value: "doubleespresso" },
  { label: "Flat White", value: "flatwhite" },
  { label: "Cappuccino", value: "cappucino" },
  { label: "Americano", value: "americano" },
  { label: "Mocha", value: "mocha" },
];
const [results, setResults] = useState([]);
const changeHandler = (event) =>{
  const searchFor = event.detail.value;
  if (searchFor.length > 1) {
    const mockAPI = (query) => {
      const filteredResults = mockData.filter((item) =>
        item.label.toLowerCase().includes(query.toLowerCase())
      );
      return new Promise((resolve) => {
        setTimeout(() => resolve(filteredResults), 1000);
      });
    };
    mockAPI(searchFor).then((newResults) => setResults(newResults));
  } else {
    setResults([]);
  }
}
<IcSearchBar label="What is your favourite coffee?"
  debounce="300"
  disableFilter
  options={results}
  onIcChange={changeHandler}
/>`,
  },
];

export const CustomFilterExample = () => {
  const mockData = [
    { label: "Espresso", value: "espresso" },
    { label: "Double Espresso", value: "doubleespresso" },
    { label: "Flat White", value: "flatwhite" },
    { label: "Cappuccino", value: "cappucino" },
    { label: "Americano", value: "americano" },
    { label: "Mocha", value: "mocha" },
  ];
  const [results, setResults] = React.useState([]);
  const changeHandler = (event) => {
    const searchFor = event.detail.value;
    if (searchFor.length > 1) {
      const mockAPI = (query) => {
        const filteredResults = mockData.filter((item) =>
          item.label.toLowerCase().includes(query.toLowerCase())
        );
        return new Promise((resolve) => {
          setTimeout(() => resolve(filteredResults), 1000);
        });
      };
      mockAPI(searchFor).then((newResults) => setResults(newResults));
    } else {
      setResults([]);
    }
  };
  return (
    <IcSearchBar
      label="What is your favourite coffee?"
      debounce="300"
      disableFilter
      options={results}
      onIcChange={changeHandler}
    />
  );
};

<ComponentPreview snippets={customFiltering}>
  <CustomFilterExample />
</ComponentPreview>
