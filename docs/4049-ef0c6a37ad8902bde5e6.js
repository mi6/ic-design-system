"use strict";(self.webpackChunkic_design_system=self.webpackChunkic_design_system||[]).push([[4049],{44049:function(e,r,s){s.r(r),s.d(r,{ic_breadcrumb_group:function(){return l}});var a=s(28402),t=s(77612);const l=class{constructor(e){(0,a.r)(this,e),this.ADD_CLASS_DELAY=50,this.IC_BREADCRUMB="ic-breadcrumb",this.SHOW_BACK_ICON="show-back-icon",this.collapsedBreadcrumbs=[],this.resizeObserver=null,this.lastParentBreadcrumb=null,this.deviceSize=t.D.XL,this.backBreadcrumbOnly=!1,this.collapsed=!1,this.monochrome=!1,this.theme="inherit",this.setBreadcrumbTheme=()=>{Array.from(this.el.querySelectorAll(this.IC_BREADCRUMB)).forEach((e=>{e.theme=this.theme}))},this.setBreadcrumbMonochrome=()=>{Array.from(this.el.querySelectorAll(this.IC_BREADCRUMB)).forEach((e=>{e.monochrome=this.monochrome}))},this.setBackBreadcrumb=()=>{this.backBreadcrumbOnly?this.setLastParentCollapsedBackBreadcrumb():this.revertLastParentCollapsedBreadcrumb()},this.setBackBreadcrumbAttr=()=>{this.lastParentBreadcrumb&&(this.lastParentBreadcrumb.classList.add("show"),this.lastParentBreadcrumb.setAttribute(this.SHOW_BACK_ICON,"true"))},this.getLastParentBreadcrumb=()=>{const e=this.el.querySelectorAll(this.IC_BREADCRUMB);return e.length>1?e[e.length-2]:null},this.setCollapsed=()=>{var e,r;if(this.collapsedBreadcrumbs.forEach((e=>{e.classList.remove("visuallyhidden"),e.classList.remove("fade")})),this.collapsed){this.renderCollapsedBreadcrumb();const r=Array.from(this.el.querySelectorAll(this.IC_BREADCRUMB));this.collapsedBreadcrumbs=r.splice(1,r.length-2).filter((e=>!e.classList.contains("collapsed-breadcrumb-wrapper"))),this.backBreadcrumbOnly||this.collapsedBreadcrumbs.forEach((e=>e.classList.add("hide"))),this.collapsedBreadcrumbWrapper&&(null===(e=r[0])||void 0===e||e.insertAdjacentElement("afterend",this.collapsedBreadcrumbWrapper))}else null===(r=this.collapsedBreadcrumbWrapper)||void 0===r||r.remove()},this.clickHandler=()=>{var e;null===(e=this.collapsedBreadcrumbWrapper)||void 0===e||e.remove(),this.collapsedBreadcrumbs.forEach((e=>{e.classList.add("visuallyhidden"),e.classList.remove("hide"),setTimeout((()=>{e.classList.add("fade")}),this.ADD_CLASS_DELAY),e.addEventListener("transitionend",this.transitionendHandler)})),this.collapsed=!1,this.collapsedBreadcrumbs[0].setFocus()},this.renderCollapsedBreadcrumb=()=>{if(void 0===this.collapsedBreadcrumbEl){this.collapsedBreadcrumbWrapper=document.createElement("ic-breadcrumb"),this.collapsedBreadcrumbWrapper.classList.add("collapsed-breadcrumb-wrapper"),this.collapsedBreadcrumbEl=document.createElement("button");const e=document.createElement("span");e.id="collapsed-button-label",e.innerText="Collapsed breadcrumbs",e.className="hide",this.collapsedBreadcrumbEl.setAttribute("aria-labelledby",e.id);const r=document.createElement("span");r.id="collapsed-button-described",r.innerText="Select to view collapsed breadcrumbs",r.className="hide",this.collapsedBreadcrumbEl.setAttribute("aria-describedby",r.id),this.collapsedBreadcrumbEl.id="collapsed-ellipsis",this.collapsedBreadcrumbEl.innerText="...",this.collapsedBreadcrumbEl.classList.add("collapsed-breadcrumb"),this.collapsedBreadcrumbEl.addEventListener("click",this.clickHandler),this.collapsedBreadcrumbWrapper.append(r),this.collapsedBreadcrumbWrapper.append(e),this.collapsedBreadcrumbWrapper.append(this.collapsedBreadcrumbEl)}},this.transitionendHandler=e=>{"opacity"===e.propertyName&&e.target.classList.remove("visuallyhidden")},this.setLastParentCollapsedBackBreadcrumb=()=>{this.lastParentBreadcrumb=this.getLastParentBreadcrumb(),this.setBackBreadcrumbAttr(),this.lastParentBreadcrumb&&(this.lastParentBreadcrumb.classList.remove("hide"),this.lastParentBreadcrumb.classList.add("show"))},this.revertLastParentCollapsedBreadcrumb=()=>{this.lastParentBreadcrumb&&(this.lastParentBreadcrumb.setAttribute(this.SHOW_BACK_ICON,"false"),this.collapsed&&this.lastParentBreadcrumb.classList.add("hide"))},this.resizeObserverCallback=e=>{if(e!==this.deviceSize){this.deviceSize=e;const r=this.deviceSize<=t.D.S;if(this.el.setAttribute("back-breadcrumb-only",`${r}`),r)this.collapsed?this.setLastParentCollapsedBackBreadcrumb():this.setBackBreadcrumb();else{const e=Array.from(this.el.querySelectorAll(this.IC_BREADCRUMB));this.collapsed&&e.length>2?(this.revertLastParentCollapsedBreadcrumb(),this.setCollapsed()):e.forEach((e=>{e.setAttribute(this.SHOW_BACK_ICON,"false")}))}}},this.runResizeObserver=()=>{this.resizeObserver=new ResizeObserver((()=>{this.resizeObserverCallback((0,t.e)())})),this.resizeObserver.observe(this.el)}}watchBackBreadcrumbHandler(){this.setBackBreadcrumb()}watchCollapsedHandler(){this.setCollapsed()}watchMonochromeHandler(){this.setBreadcrumbMonochrome()}watchThemeHandler(){this.setBreadcrumbTheme()}componentWillLoad(){this.setBreadcrumbTheme(),this.setBreadcrumbMonochrome(),this.backBreadcrumbOnly?this.setBackBreadcrumb():(0,t.f)(this.runResizeObserver),this.collapsed&&this.el.querySelectorAll(this.IC_BREADCRUMB).length>2&&((0,t.e)()===t.D.S?this.setLastParentCollapsedBackBreadcrumb():this.setCollapsed()),this.lastParentBreadcrumb=this.getLastParentBreadcrumb()}disconnectedCallback(){var e,r;null===(e=this.lastParentBreadcrumb)||void 0===e||e.removeEventListener("transitionend",this.transitionendHandler),null===(r=this.collapsedBreadcrumbEl)||void 0===r||r.removeEventListener("click",this.clickHandler)}render(){const{backBreadcrumbOnly:e,collapsed:r,theme:s}=this;return(0,a.h)(a.H,{key:"c39081da4595fa3f6fca4325df9ecc8775201ecc",class:{"ic-breadcrumb-group-back":e,"ic-breadcrumb-group-collapsed":r,[`ic-theme-${s}`]:"inherit"!==s}},(0,a.h)("nav",{key:"dffbf2a1a5e324c45e1d902f05eeef3e316c917a","aria-label":"breadcrumbs"},(0,a.h)("ol",{key:"29e18e2d0dfde13eeeec0dd2266b73e11a9b4a84"},(0,a.h)("slot",{key:"d6eb3a931fb3a7a8de0104960cfad4e54d6eeeaf"}))))}get el(){return(0,a.g)(this)}static get watchers(){return{backBreadcrumbOnly:["watchBackBreadcrumbHandler"],collapsed:["watchCollapsedHandler"],monochrome:["watchMonochromeHandler"],theme:["watchThemeHandler"]}}};l.style=":host{display:block}:host ol{display:flex;list-style-type:none;align-items:center;flex-wrap:wrap;padding:0;margin:0}:host(.ic-breadcrumb-group-back) ol ::slotted(ic-breadcrumb){display:none}:host(.ic-breadcrumb-group-back) ol ::slotted(ic-breadcrumb.show){display:flex}:host(.ic-breadcrumb-group-collapsed) ol ::slotted(ic-breadcrumb.hide){display:none;opacity:0;visibility:hidden}:host(.ic-breadcrumb-group-collapsed) ol ::slotted(ic-breadcrumb.visuallyhidden){display:block;opacity:0;transition:all var(--ic-easing-transition-slow)}:host(.ic-breadcrumb-group-collapsed) ol ::slotted(ic-breadcrumb.fade){opacity:1}"}}]);