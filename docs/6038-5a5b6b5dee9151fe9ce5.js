"use strict";(self.webpackChunkic_design_system=self.webpackChunkic_design_system||[]).push([[6038],{76038:function(e,t,i){i.r(t),i.d(t,{ic_time_input:function(){return a}});var s=i(28402),n=i(33276),r=i(19230);i(24212),i(10707),i(26974),i(79593),i(89699),i(38726);let o=0;const a=class{constructor(e){(0,s.r)(this,e),this.clockButtonClicked=(0,s.c)(this,"clockButtonClicked",7),this.icBlur=(0,s.c)(this,"icBlur",7),this.icTimeChange=(0,s.c)(this,"icTimeChange",7),this.icFocus=(0,s.c)(this,"icFocus",7),this.DEFAULT_TIME_FORMAT="HH:MM:SS",this.TOGGLE_BUTTON_SELECTOR="ic-toggle-button",this.ARIA_INVALID="aria-invalid",this.ARIA_LABEL="aria-label",this.ARIA_LABELLED_BY="aria-labelledby",this.EVENT_OBJECT_STRING="[object Event]",this.FIT_TO_VALUE="fit-to-value",this.initialValue=this.value,this.inputsInOrder=[],this.isValidHour=!0,this.isValidMinute=!0,this.isValidSecond=!0,this.isValidMillisecond=!0,this.isValidTime=!0,this.isTimeSetFromKeyboardEvent=!1,this.previousSelectedTime=null,this.selectedTime=null,this.externalSetTime=!1,this.clearInput=!1,this.maxTime=null,this.minTime=null,this.previousHour="",this.previousMinute="",this.previousSecond="",this.previousMillisecond="",this.previousPeriod="AM",this.clockFocused=!1,this.clearButtonFocused=!1,this.removeLabelledBy=!1,this.hour="",this.minute="",this.second="",this.millisecond="",this.period="AM",this.isSSSFormat=()=>"HH:MM:SS.SSS"===this.timeFormat,this.disabled=!1,this.disableTimes=[],this.emitTimePartChange=!1,this.hideHelperText=!1,this.hideLabel=!1,this.inputId="ic-time-input-"+o++,this.invalidTimeMessage="Please enter a valid time.",this.max="",this.min="",this.name=this.inputId,this.required=!1,this.showAmPmToggle=!1,this.showClearButton=!0,this.showClockButton=!1,this.size="medium",this.theme="inherit",this.timeFormat=this.DEFAULT_TIME_FORMAT,this.timePeriod="24",this.value="",this.validationAriaLive="polite",this.validationStatus="",this.validationText="",this.setInputPasteValue=(e,t)=>{if(e){const i=e;i.value=t,i.classList.add(this.FIT_TO_VALUE)}},this.isHHMMFormat=()=>"HH:MM"===this.timeFormat,this.isKeyboardOrEvent=e=>Object.prototype.toString.call(e)===this.EVENT_OBJECT_STRING||"[object KeyboardEvent]"===Object.prototype.toString.call(e),this.setTimeValidity=()=>{const e="12"===this.timePeriod?12:23;(0,n.b)(this.hour)?this.isValidHour=!0:this.isValidHour=+this.hour>=0&&+this.hour<=e,(0,n.b)(this.minute)?this.isValidMinute=!0:this.isValidMinute=+this.minute>=0&&+this.minute<=59,this.isHHMMFormat()?(this.isValidSecond=!0,this.isValidMillisecond=!0):((0,n.b)(this.second)?this.isValidSecond=!0:this.isValidSecond=+this.second>=0&&+this.second<=59,this.isSSSFormat()?(0,n.b)(this.millisecond)?this.isValidMillisecond=!0:this.isValidMillisecond=+this.millisecond>=0&&+this.millisecond<=999:this.isValidMillisecond=!0)},this.setInputValue=(e,t=!1)=>{const i=t?"":e.value;e===this.hourInputEl?this.hour=i:e===this.minuteInputEl?this.minute=i:e!==this.secondInputEl||this.isHHMMFormat()?this.isSSSFormat()&&e===this.millisecondInputEl&&(this.millisecond=i):this.second=i,this.setValidationMessage()},this.setPreventInput=(e,t)=>{e===this.hourInputEl?this.preventHourInput=t:e===this.minuteInputEl?this.preventMinuteInput=t:e===this.secondInputEl?this.preventSecondInput=t:this.isSSSFormat()&&e===this.millisecondInputEl&&(this.preventMillisecondInput=t)},this.setValidationMessage=()=>{this.maxTime=(0,n.l)(this.max).date,this.minTime=(0,n.l)(this.min).date,this.setTimeValidity();let e="",t=!1;if((0,n.b)(this.hour)||(0,n.b)(this.minute)||!this.isHHMMFormat()&&(0,n.b)(this.second)||this.isSSSFormat()&&(0,n.b)(this.millisecond))this.selectedTime=null;else{this.selectedTime=this.convertToTime(this.hour,this.minute,this.isHHMMFormat()?"00":this.second,this.isSSSFormat()?this.millisecond:"000");const i=+this.hour,s=this.selectedTime?this.selectedTime.getHours():null;if("12"===this.timePeriod&&this.showAmPmToggle&&null!==s){let e=s%12;0===e&&(e=12),this.isValidTime=!!this.selectedTime&&e==i&&this.selectedTime.getMinutes()==+this.minute&&(this.isHHMMFormat()||this.selectedTime.getSeconds()==+this.second)&&(!this.isSSSFormat()||this.selectedTime.getMilliseconds()==+this.millisecond)}else this.isValidTime=!!this.selectedTime&&this.selectedTime.getHours()==i&&this.selectedTime.getMinutes()==+this.minute&&(this.isHHMMFormat()||this.selectedTime.getSeconds()==+this.second)&&(!this.isSSSFormat()||this.selectedTime.getMilliseconds()==+this.millisecond);this.selectedTime&&Array.isArray(this.disableTimes)&&this.disableTimes.length>0&&(t=this.disableTimes.some((e=>{if("object"==typeof e&&null!==e&&"start"in e&&"end"in e){const t=(0,n.l)(e.start).date,i=(0,n.l)(e.end).date;return!(!t||!i)&&(this.selectedTime>=t&&this.selectedTime<=i)}const t=(0,n.l)(e).parts;if(!t)return!1;let i=this.selectedTime.getHours(),s=t.hour;return"12"===this.timePeriod&&this.showAmPmToggle&&(i=this.convertTo24Hour(i),s=this.convertTo24Hour(s)),s===i&&t.minute===this.selectedTime.getMinutes()&&t.second===this.selectedTime.getSeconds()})),t&&(this.isValidTime=!1,e=this.invalidTimeMessage)),this.selectedTime&&!t&&(this.minTime&&this.selectedTime<this.minTime?(this.isValidTime=!1,e=`Please enter a time after ${this.formatTime(this.minTime)}.`):this.maxTime&&this.selectedTime>this.maxTime&&(this.isValidTime=!1,e=`Please enter a time before ${this.formatTime(this.maxTime)}.`)),this.isValidTime?this.inputsInOrder.forEach((e=>e.removeAttribute(this.ARIA_INVALID))):this.inputsInOrder.forEach((e=>e.setAttribute(this.ARIA_INVALID,"true")))}this.isValidHour&&this.isValidMinute&&this.isValidSecond&&this.isValidMillisecond&&this.isValidTime?this.invalidTimeText="":this.invalidTimeText=e||this.invalidTimeMessage},this.formatTime=e=>{const t=e.getHours().toString().padStart(2,"0"),i=e.getMinutes().toString().padStart(2,"0"),s=e.getSeconds().toString().padStart(2,"0"),n=e.getMilliseconds().toString().padStart(3,"0");return this.isSSSFormat()?`${t}:${i}:${s}.${n}`:this.isHHMMFormat()?`${t}:${i}`:`${t}:${i}:${s}`},this.handleInput=e=>{const t=e,i=e.target;i===this.millisecondInputEl&&this.isSSSFormat()?(this.setInputValue(i),this.setPreventInput(i,!1),this.setFitToValueStyling(i),3===i.value.length?(this.moveToNextInput(i),this.setPreventInput(i,!0)):this.setPreventInput(i,!1),0===i.value.length&&(this.setInputValue(i,!0),this.setValidationMessage()),this.notifyScreenReader(i)):i!==this.hourInputEl?("deleteContentBackward"===t.inputType||this.preventAutoFormatting?this.preventAutoFormatting&&(2!==i.value.length||this.isKeyboardOrEvent(e)?this.setInputValue(i):(this.setInputValue(i),this.setPreventInput(i,!0),this.moveToNextInput(i))):(1===i.value.length&&+i.value>=6&&+i.value<=9&&(this.setInputValue(i),this.notifyScreenReader(i),this.moveToNextInput(i)),2===i.value.length?(this.setInputValue(i),this.setPreventInput(i,!0),this.notifyScreenReader(i),this.moveToNextInput(i)):this.setPreventInput(i,!1)),2!==i.value.length&&this.setPreventInput(i,!1),this.setFitToValueStyling(i),0===i.value.length&&(this.setInputValue(i,!0),this.setValidationMessage()),this.notifyScreenReader(i)):(2===i.value.length?(this.setInputValue(i),Object.prototype.toString.call(e)!==this.EVENT_OBJECT_STRING&&this.moveToNextInput(i),this.setPreventInput(i,!0)):(this.setInputValue(i,!0),this.setPreventInput(i,!1)),this.setFitToValueStyling(i),0===i.value.length&&(this.setInputValue(i,!0),this.setValidationMessage()),this.notifyScreenReader(i))},this.handleKeyDown=(e,t)=>{var i;const s=e.target,n=null===(i=e.key)||void 0===i?void 0:i.toLowerCase();/-?\d*\.?\d+(e[-+]?\d+)?|[:]|[.]/i.test(n)||/arrowup|arrowdown|arrowleft|arrowright|shift|tab|backspace|delete/i.test(n)||(e.ctrlKey||e.metaKey)&&("v"===n||"c"===n)||e.preventDefault();switch(/-?\d*\.?\d+(e[-+]?\d+)?|[:]|arrowup|arrowdown|arrowleft|arrowright|shift|tab|backspace|delete/.test(n)||(e.ctrlKey||e.metaKey)&&("v"===n||"c"===n)||e.preventDefault(),n){case":":case"arrowright":e.preventDefault(),this.moveToNextInput(s);break;case"arrowleft":e.preventDefault(),this.moveToPreviousInput(s);break;case"arrowup":case"arrowdown":this.preventAutoFormatting=!0,this.handleUpDownArrowKeyPress(s,e);break;case"backspace":0===s.value.length&&(e.preventDefault(),this.moveToPreviousInput(s))}this.preventInput(e,t),this.isTimeSetFromKeyboardEvent=!0},this.handleFocus=e=>{e.target.select()},this.handleBlur=e=>{const t=e.target;t===this.millisecondInputEl&&this.isSSSFormat()?(1===t.value.length?(t.value=`00${t.value}`,this.setInputValue(t)):2===t.value.length&&(t.value=`0${t.value}`,this.setInputValue(t)),this.setFitToValueStyling(t)):t&&this.autocompleteInput(t)},this.handleUpDownArrowKeyPress=(e,t)=>{let i=0,s=59;e===this.hourInputEl&&(i="12"===this.timePeriod?1:0,s="12"===this.timePeriod?12:23);let n=+e.value;"ArrowUp"===t.key&&(n+=1,n>s&&(n=i),e.value=n.toString().padStart(2,"0"),this.notifyScreenReader(e)),"ArrowDown"===t.key&&(n-=1,n<i&&(n=s),e.value=n.toString().padStart(2,"0"),this.notifyScreenReader(e)),this.setInputValue(e),this.setFitToValueStyling(e)},this.handleTimeChange=e=>{(e||this.selectedTime!==this.previousSelectedTime)&&(this.value&&this.inputsInOrder.forEach((e=>{e.classList.add(this.FIT_TO_VALUE)})),this.hour&&this.minute&&(this.isHHMMFormat()||this.second)&&""===this.invalidTimeText?(this.setValueAndEmitChange(this.selectedTime),this.notifyScreenReaderSelectedTime()):null===this.selectedTime&&null===this.previousSelectedTime||!this.selectedTimeInfoEl||(this.setValueAndEmitChange(null,!0),this.selectedTimeInfoEl.textContent=""),this.previousSelectedTime=this.selectedTime,this.isTimeSetFromKeyboardEvent||this.updateInputValues(this.hour,this.minute,this.second))},this.setValueAndEmitChange=(e,t=!1)=>{(this.value!==e||t)&&(this.emitIcTimeChange(e),this.value=e)},this.convertTo24Hour=e=>{let t=e;return"PM"===this.period&&e<12&&(t=e+12),"AM"===this.period&&12===e&&(t=0),t},this.emitIcTimeChange=e=>{const t=parseInt(this.hour),i=parseInt(this.minute),s=parseInt(this.second),n=parseInt(this.millisecond),r=this.period;let o=!1;this.isSSSFormat()?o=""!==this.hour&&""!==this.minute&&""!==this.second&&""!==this.millisecond:this.timeFormat===this.DEFAULT_TIME_FORMAT?o=""!==this.hour&&""!==this.minute&&""!==this.second:"HH:MM"===this.timeFormat&&(o=""!==this.hour&&""!==this.minute);let a=e,l=t;null!=t&&r&&"12"===this.timePeriod&&this.showAmPmToggle&&(l=this.convertTo24Hour(t),a=new Date,a.setHours(null!=l?l:0),a.setMinutes(null!=i?i:0),a.setSeconds(null!=s?s:0),this.isSSSFormat()&&a.setMilliseconds(null!=n?n:0)),this.selectedTime=a;""===this.hour&&""===this.minute&&""===this.second&&""===this.millisecond&&this.period!==this.previousPeriod&&""===this.previousHour&&""===this.previousMinute&&""===this.previousSecond&&""===this.previousMillisecond||this.icTimeChange.emit({value:o?a:null,timeObject:{hour:""===this.hour?null:this.hour,minute:""===this.minute?null:this.minute,second:""===this.second?null:this.second,millisecond:""===this.millisecond?null:this.millisecond,period:""===this.period?null:this.period}}),this.previousHour=this.hour,this.previousMinute=this.minute,this.previousSecond=this.second,this.previousMillisecond=this.millisecond,this.previousPeriod=this.period},this.setTime=e=>{if(null===e||""===e||void 0===e)this.hour&&(this.hour=""),this.minute&&(this.minute=""),this.second&&(this.second=""),this.millisecond&&(this.millisecond=""),this.inputsInOrder.forEach((e=>{e.classList.remove(this.FIT_TO_VALUE),this.setPreventInput(e,!1)})),this.handleTimeChange(!0);else if("string"==typeof e){const t=e.match(/^(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,3}))?Z?$/);if(t)this.hour=t[1],this.minute=t[2],this.second=t[3];else{const t=e.split(/[:.]/);this.hour=t[0]||"",this.minute=t[1]||"",this.second=t[2]||"",this.millisecond=t[3]||""}}else e instanceof Date&&(this.hour=e.getHours().toString().padStart(2,"0"),this.minute=e.getMinutes().toString().padStart(2,"0"),this.second=e.getSeconds().toString().padStart(2,"0"),this.isSSSFormat()&&(this.millisecond=e.getMilliseconds().toString().padStart(3,"0")));this.setValidationMessage()},this.setAriaInvalid=(e,t,i,s)=>{var n,r,o,a;this.inputsInOrder.length&&(this.inputsInOrder.forEach((e=>{e.removeAttribute(this.ARIA_INVALID)})),e||null===(n=this.hourInputEl)||void 0===n||n.setAttribute(this.ARIA_INVALID,"true"),t||null===(r=this.minuteInputEl)||void 0===r||r.setAttribute(this.ARIA_INVALID,"true"),i||null===(o=this.secondInputEl)||void 0===o||o.setAttribute(this.ARIA_INVALID,"true"),s||null===(a=this.millisecondInputEl)||void 0===a||a.setAttribute(this.ARIA_INVALID,"true"),e&&t&&i&&s||this.inputsInOrder.forEach((e=>{e.setAttribute(this.ARIA_INVALID,"true")})))},this.handleClear=()=>{var e;this.clearInput=!0,this.hourInputEl&&(this.hourInputEl.value=""),this.minuteInputEl&&(this.minuteInputEl.value=""),!this.isHHMMFormat()&&this.secondInputEl&&(this.secondInputEl.value=""),this.isSSSFormat()&&this.millisecondInputEl&&(this.millisecondInputEl.value=""),this.hour="",this.minute="",this.second="",this.millisecond="",this.period="AM",this.showAmPmToggle&&(null===(e=this.periodToggleEl)||void 0===e||e.querySelectorAll(this.TOGGLE_BUTTON_SELECTOR).forEach((e=>{const t=e;"AM"===t.label?t.checked=!0:t.checked=!1}))),this.handleTimeChange(!0),this.inputsInOrder.forEach((e=>{e.classList.remove(this.FIT_TO_VALUE),this.setPreventInput(e,!1)})),this.clearInput=!1,this.isTimeSetFromKeyboardEvent=!1,this.setValidationMessage(),this.invalidTimeText="",this.hourInputEl&&this.hourInputEl.focus()},this.notifyScreenReaderSelectedTime=()=>{if(this.selectedTime&&this.selectedTimeInfoEl){let e=this.selectedTime.getHours();"12"===this.timePeriod&&this.showAmPmToggle&&(e=this.convertTo24Hour(e));const t=e.toString().padStart(2,"0"),i=this.selectedTime.getMinutes().toString().padStart(2,"0"),s=this.selectedTime.getSeconds().toString().padStart(2,"0"),n=this.selectedTime.getMilliseconds().toString().padStart(3,"0");this.isHHMMFormat()?this.selectedTimeInfoEl.textContent=`Selected time: ${t}:${i}`:this.isSSSFormat()?this.selectedTimeInfoEl.textContent=`Selected time: ${t}:${i}:${s}.${n}`:this.selectedTimeInfoEl.textContent=`Selected time: ${t}:${i}:${s}`}},this.setFitToValueStyling=e=>{e.value?e.classList.add(this.FIT_TO_VALUE):e.classList.remove(this.FIT_TO_VALUE)},this.handleHostBlur=()=>{this.removeLabelledBy=!1,this.icBlur.emit({value:this.selectedTime})},this.handleHostFocus=()=>{var e,t;(null===(t=null===(e=this.el.shadowRoot)||void 0===e?void 0:e.activeElement)||void 0===t?void 0:t.id.match(/(hour|minute|second|millisecond)-input$/))?this.removeLabelledBy=!1:this.removeLabelledBy=!0,this.icFocus.emit({value:this.selectedTime})},this.handleFormReset=()=>{this.setTime(this.initialValue),this.setValidationMessage(),this.handleTimeChange(!1)},this.preventInput=(e,t)=>{const i=e.key,s=e.target;let n;s&&(n=s.value.substring(s.selectionStart||0,s.selectionEnd||void 0)),("e"===i||"."===i||"-"===i||e.key>="0"&&e.key<="9"&&t&&!n)&&e.preventDefault()},this.moveToNextInput=e=>{var t;this.preventAutoFormatting=!1,null===(t=this.inputsInOrder[this.inputsInOrder.findIndex((t=>t===e))+1])||void 0===t||t.focus()},this.moveToPreviousInput=e=>{var t;this.preventAutoFormatting=!1,null===(t=this.inputsInOrder[this.inputsInOrder.findIndex((t=>t===e))-1])||void 0===t||t.focus()},this.autocompleteInput=e=>{const t=e.value;1===t.length&&(e.value=`0${t}`),e.value&&this.setInputValue(e)},this.convertToTime=(e,t,i,s=null)=>{if((0,n.b)(e)||(0,n.b)(t)||!this.isHHMMFormat()&&(0,n.b)(i)||this.isSSSFormat()&&(null===s||(0,n.b)(s)))return null;{const n=new Date;return n.setHours(+e,+t,this.isHHMMFormat()?0:+i,0),this.isSSSFormat()&&null!==s&&n.setMilliseconds(+s),n}},this.setInputsInOrder=()=>{var e;this.inputsInOrder=[];const t=null===(e=this.el.shadowRoot)||void 0===e?void 0:e.querySelectorAll("input");t&&t.forEach((e=>this.inputsInOrder.push(e)))},this.updateInputValues=(e,t,i)=>{this.hourInputEl&&(this.hourInputEl.value=e),this.minuteInputEl&&(this.minuteInputEl.value=t),this.secondInputEl&&(this.secondInputEl.value=i)},this.removeAriaLabelledBy=()=>{var e;null===(e=this.inputCompContainerEl)||void 0===e||e.removeAttribute(this.ARIA_LABELLED_BY)},this.setAriaLabelledBy=()=>{var e,t,i,s;if(this.disabled&&(null===(e=this.inputCompContainerEl)||void 0===e?void 0:e.getAttribute(this.ARIA_LABELLED_BY)))return void this.removeAriaLabelledBy();if(this.disabled)return;const r=null===(t=this.el.shadowRoot)||void 0===t?void 0:t.querySelector("label"),o=`${this.inputId}-label`;null!=r&&(r.id=o);const a=!(0,n.b)(this.validationStatus)||!(0,n.b)(this.invalidTimeText),l=`${null!==(i=null==r?void 0:r.id)&&void 0!==i?i:""} ${this.screenReaderInfoId} ${(0,n.m)(this.el,this.inputId,""!==this.helperText&&this.helperText!==this.defaultHelperText,a)} ${this.selectedTime?this.selectedTimeInfoId:""} ${this.assistiveHintId}`;null===(s=this.inputCompContainerEl)||void 0===s||s.setAttribute(this.ARIA_LABELLED_BY,l)},this.getInputsInOrder=()=>this.timeFormat.split(/[:.]/).map((e=>{switch(e){case"HH":return(0,s.h)("input",{class:"hour-input",id:"hour-input",ref:e=>this.hourInputEl=e,"aria-label":"hour",placeholder:"HH",disabled:this.disabled,"aria-required":`${this.required}`,inputmode:"number",pattern:"[0-9]*",onPaste:this.handlePaste,onKeyDown:e=>this.handleKeyDown(e,this.preventHourInput)});case"MM":return(0,s.h)("input",{id:"minute-input",class:"minute-input",ref:e=>this.minuteInputEl=e,"aria-label":"minute",placeholder:"MM",disabled:this.disabled,"aria-required":`${this.required}`,inputmode:"number",pattern:"[0-9]*",onPaste:this.handlePaste,onKeyDown:e=>this.handleKeyDown(e,this.preventMinuteInput)});case"SS":if(!this.isHHMMFormat())return(0,s.h)("input",{id:"second-input",class:"second-input",ref:e=>this.secondInputEl=e,"aria-label":"second",placeholder:"SS",disabled:this.disabled,"aria-required":`${this.required}`,inputmode:"number",pattern:"[0-9]*",onPaste:this.handlePaste,onKeyDown:e=>this.handleKeyDown(e,this.preventSecondInput)});break;case"SSS":return this.isSSSFormat()?(0,s.h)("input",{id:"millisecond-input",class:"millisecond-input",ref:e=>this.millisecondInputEl=e,"aria-label":"millisecond",placeholder:"SSS",disabled:this.disabled,"aria-required":`${this.required}`,inputmode:"number",pattern:"[0-9]*",onPaste:this.handlePaste,onKeyDown:e=>this.handleKeyDown(e,this.preventMillisecondInput)}):null;default:return null}})),this.getDescOfInputsOrder=()=>this.isSSSFormat()?"hour, minute, second, and millisecond":"hour, minute, and second",this.getScreenReaderInfo=e=>{let t="";return this.required&&(t+="required"),e===n.q.Error&&(t+=" invalid data"),""===t?"":t+", "},this.notifyScreenReader=e=>{var t;const i=null===(t=this.el.shadowRoot)||void 0===t?void 0:t.querySelector("#live-region");i&&(i.textContent=`${e.value}, ${e.getAttribute(this.ARIA_LABEL)}`)},this.handlePaste=e=>{var t;e.preventDefault();const i=(null===(t=e.clipboardData)||void 0===t?void 0:t.getData("Text"))||"",s=this.isPastedStringTimeValid(i);this.setPastedValueAndValidation(s,i,e)},this.handleClearFocus=()=>{this.removeLabelledBy=!0,this.clearButtonFocused=!0,this.isTimeSetFromKeyboardEvent=!0},this.handleClearBlur=e=>{this.clearButtonFocused=!1,this.isTimeSetFromKeyboardEvent=!0;const t=e.relatedTarget;"clock-button"!==(null==t?void 0:t.id)?(null==t?void 0:t.id.match(/(minute|second|millisecond)-input$/))?this.removeLabelledBy=!1:this.removeLabelledBy=!0:this.removeLabelledBy=!1},this.handleClockFocus=()=>{this.clockFocused=!0},this.handleClockBlur=()=>{this.clockFocused=!1},this.isPastedStringTimeValid=e=>{if(this.isHHMMFormat()){if(/^\d{2}:\d{2}$/.test(e))return e}else if(this.isSSSFormat()){if(/^\d{2}:\d{2}:\d{2}\.\d{1,3}$/.test(e))return e;if(/^\d{2}:\d{2}:\d{2}\.\d{1,3}Z$/.test(e))return e.replace("Z","");const t=e.match(/T(\d{2}:\d{2}:\d{2}\.\d{1,3})/);if(t)return t[1]}else{if(/^\d{2}:\d{2}:\d{2}$/.test(e))return e;if(/^\d{2}:\d{2}:\d{2}Z$/.test(e))return e.replace("Z","");const t=e.match(/T(\d{2}:\d{2}:\d{2})/);if(t)return t[1]}return!1},this.setPastedValueAndValidation=(e,t,i)=>{if(e){const t=e.split(/[:.]/);this.inputsInOrder.forEach(((e,i)=>{var s,n,r,o;e.classList.add(this.FIT_TO_VALUE);let a=t[i]||"";if(a=e===this.millisecondInputEl&&this.isSSSFormat()?a.slice(0,3):a.slice(0,2),e===this.hourInputEl){let e;if("12"===this.timePeriod&&this.showAmPmToggle)if(parseInt(a)>12){if(a=(parseInt(a)-12).toString().padStart(2,"0"),parseInt(a)>12)return;this.period="PM",null===(s=this.periodToggleEl)||void 0===s||s.querySelectorAll(this.TOGGLE_BUTTON_SELECTOR).forEach((t=>{const i=t;"PM"===i.label?e=i:i.checked=!1})),e&&(null===(n=this.periodToggleEl)||void 0===n||n.setActiveToggle(e),e.checked=!0),this.invalidTimeText="",this.validationStatus=""}else 0===parseInt(a)&&(a="12"),this.period="AM",null===(r=this.periodToggleEl)||void 0===r||r.querySelectorAll(this.TOGGLE_BUTTON_SELECTOR).forEach((t=>{const i=t;"AM"===i.label?e=i:i.checked=!1})),e&&(null===(o=this.periodToggleEl)||void 0===o||o.setActiveToggle(e),e.checked=!0),this.invalidTimeText="",this.validationStatus=""}e.value=a,this.setInputValue(e),this.autocompleteInput(e)})),this.isHHMMFormat()&&""!==this.second&&""!==this.millisecond&&(this.second="",this.millisecond="")}else{const e=t.trim();1!==e.length&&2!==e.length||!(0,n.n)(e)?(this.invalidTimeText=`Please paste a valid ${i.target.getAttribute(this.ARIA_LABEL)}`,this.validationStatus=n.q.Error):(this.setInputPasteValue(i.target,e),this.setInputValue(i.target))}},this.handleAMPM=e=>{var t;this.period=e.label,null===(t=this.periodToggleEl)||void 0===t||t.setActiveToggle(e)}}watchInputHandler(){!this.emitTimePartChange||this.externalSetTime||this.clearInput||this.hour&&this.minute&&this.second&&(!this.isSSSFormat()||this.millisecond)||null!==this.selectedTime||this.emitIcTimeChange(this.selectedTime)}watchDisabledHandler(){(0,n.r)(this.disabled,this.el)}watchHelperTextHandler(e=!1){((0,n.b)(this.helperText)||!0===e)&&(this.helperText=this.defaultHelperText)}watchMaxHandler(){this.maxTime=(0,n.l)(this.max).date}watchMinHandler(){this.minTime=(0,n.l)(this.min).date}watchRequiredHandler(){var e,t;const i=null===(e=this.el.shadowRoot)||void 0===e?void 0:e.querySelector("label");if(this.required){const e=document.createElement("span");e.setAttribute("id","asterisk-span"),e.setAttribute("aria-hidden","true"),e.textContent=" *",null==i||i.appendChild(e)}else{const e=null===(t=this.el.shadowRoot)||void 0===t?void 0:t.querySelector("#asterisk-span");e&&e.remove()}}watchTimeFormatHandler(){const e=this.defaultHelperText;this.defaultHelperText=`Use format ${this.timeFormat}`,this.watchHelperTextHandler(this.helperText===e)}disconnectedCallback(){(0,n.s)(this.el,this.handleFormReset)}componentWillLoad(){this.watchTimeFormatHandler(),this.watchHelperTextHandler(),this.value&&(this.externalSetTime=!0,this.setTime(this.value)),this.screenReaderInfoId=`${this.inputId}-screen-reader-info`,this.assistiveHintId=`${this.inputId}-assistive-hint`,this.selectedTimeInfoId=`${this.inputId}-selected-time-info`,(0,n.t)(this.el,this.handleFormReset),(0,n.r)(this.disabled,this.el)}componentDidLoad(){this.setInputsInOrder(),(0,n.o)([{prop:this.label,propName:"label"}],"Time Input"),this.value&&(this.updateInputValues(this.hour,this.minute,this.second),this.inputsInOrder.forEach((e=>{e.classList.add(this.FIT_TO_VALUE)}))),this.setAriaInvalid(this.isValidHour,this.isValidMinute,this.isValidSecond,this.isValidMillisecond),this.value&&this.notifyScreenReaderSelectedTime(),this.inputsInOrder.forEach((e=>{e.addEventListener("input",this.handleInput),e.addEventListener("focus",this.handleFocus),e.addEventListener("blur",this.handleBlur)})),this.watchRequiredHandler()}componentWillUpdate(){this.isTimeSetFromKeyboardEvent||this.setTime(this.value),this.setAriaInvalid(this.isValidHour,this.isValidMinute,this.isValidSecond,this.isValidMillisecond),this.handleTimeChange(!1),this.isTimeSetFromKeyboardEvent=!1}componentDidRender(){this.removeLabelledBy?this.removeAriaLabelledBy():this.setAriaLabelledBy()}async getTime(){return this.selectedTime}async triggerIcTimeChange(e){this.externalSetTime=!0,this.setTime(e),this.emitIcTimeChange(e),this.externalSetTime=!1}render(){var e;const{inputId:t,label:i,disabled:o,helperText:a,hideHelperText:l,hideLabel:h,showClearButton:d,showClockButton:c,size:u,theme:m,validationAriaLive:p}=this,v=!(0,n.b)(this.validationStatus),b=v?this.validationStatus:(0,n.b)(this.invalidTimeText)?"":n.q.Error,g=`Type or use the up and down arrow keys to change the values for the ${this.getDescOfInputsOrder()}.`;(0,n.u)(!0,this.el,this.name,this.convertToTime(this.hour,this.minute,this.second),this.disabled);const T=!(!d||(0,n.b)(this.hour)&&(0,n.b)(this.minute)&&(0,n.b)(this.second));return this.showAmPmToggle&&"12"!==this.timePeriod&&(this.showAmPmToggle=!1),(0,s.h)(s.H,{key:"62e2a0e6837b81bf3a74d176487a509928e51d6b",class:{[`ic-theme-${m}`]:"inherit"!==m,"ic-time-input-disabled":o,[`ic-time-input-${u}`]:!0},onBlur:this.handleHostBlur,onFocus:this.handleHostFocus},(0,s.h)("ic-input-container",{key:"135eb0cc8ada933f795c12d9cf8811a0f7d5cc2a",disabled:o},!(h&&l)&&(0,s.h)("ic-input-label",{key:"471576582143b8a6dd86ce152793b275f6cf409e",for:t,label:i,hideLabel:h,helperText:l?"":null!=a?a:void 0,disabled:o},(0,s.h)("slot",{key:"1a16aa481dd381a0ee95ae6ba65f508084001984",name:"helper-text",slot:"helper-text"})),(0,s.h)("span",{key:"b06834357f685c972e1e3e6964a284dd4870dd61",id:this.screenReaderInfoId,class:"sr-only","aria-hidden":"true"},this.getScreenReaderInfo(b),h&&`${i}\n`,l&&`${a}\n`,`${this.defaultHelperText}.`),(0,s.h)("span",{key:"6b92fed951e93af9942e06adcc8493bdf3050fc6",id:this.assistiveHintId,class:"sr-only","aria-hidden":"true"},g),(0,s.h)("span",{key:"46812811d45fc47007acbb7bf670cc65740660c0",id:"live-region","aria-live":"assertive",class:"sr-only"}),(0,s.h)("div",{key:"9f0bdd000f3f1da4b8ad8912608d78f11241dafe",class:{"with-am-pm-toggle":!0===this.showAmPmToggle}},(0,s.h)("ic-input-component-container",{key:"2da5ca6c2c8d84bb99681b48e6fddd73f3c0c16c",id:t,ref:e=>this.inputCompContainerEl=e,disabled:o,validationStatus:b,size:u,role:"group",class:{[`ic-theme-${m}`]:"inherit"!==m}},(0,s.h)("div",{key:"166dfe20eea309ff2cfd468050d33c9d282c4cc1",class:"input-container"},(0,s.h)("div",{key:"22b29cab3f1e09df08a86cce7c2a6292eb27decf",class:"time-inputs"},[this.getInputsInOrder()[0],":",this.getInputsInOrder()[1],this.isHHMMFormat()?null:[":",this.getInputsInOrder()[2]],this.isSSSFormat()?[".",this.getInputsInOrder()[3]]:null]),(0,s.h)("div",{key:"7ab389ad2d5683ad5a859ee4cd47cf8b6b9b49a9",class:"action-buttons"},d&&(0,s.h)("ic-button",{key:"5e41579917ac0f5cd0cf75ddb1b2980d04563ff2",id:"clear-button","aria-label":"Clear input",class:{"clear-button":!0,hidden:(0,n.b)(this.hour)&&(0,n.b)(this.minute)&&(0,n.b)(this.second)},disabled:this.disabled,innerHTML:r.C,onClick:this.handleClear,onFocus:this.handleClearFocus,onBlur:this.handleClearBlur,variant:"icon-tertiary",theme:this.clearButtonFocused?"light":"dark",size:u}),c&&(0,s.h)("div",{key:"c8816aae8a4c26cc0c2aa49cd5eedda9857e880d",class:"show-clock-button-wrapper"},(0,s.h)("div",{key:"ebfd83da1686f0e6aff3c7c7fa5ed82f4b69042f",class:{divider:T,[u]:!0}}),(0,s.h)("ic-button",{key:"50fea07bdf59cbf3eeada27f724be780fab0343f",id:"clock-button","aria-label":"Display clock","aria-haspopup":"dialog",class:"clock-button",disabled:this.disabled,innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>clock-outline</title><path d="M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z" /></svg>',variant:"icon-tertiary",size:u,onFocus:this.handleClockFocus,onBlur:this.handleClockBlur,theme:this.clockFocused?"light":"dark"}))))),this.showAmPmToggle&&(0,s.h)("ic-toggle-button-group",{key:"627e2cbe64a5502c1aca994ed2d6994981be6113","select-type":"single","accessible-label":"AM PM Toggle",ref:e=>this.periodToggleEl=e,disabled:o,class:"am-pm-toggle","select-method":"auto",onIcChange:e=>this.handleAMPM(e.detail.selectedOption),onKeyDown:e=>{if("Tab"===e.key&&e.shiftKey&&(e.preventDefault(),this.inputsInOrder&&this.inputsInOrder.length>0)){const e=this.inputsInOrder[this.inputsInOrder.length-1];null==e||e.focus()}}},(0,s.h)("ic-toggle-button",{key:"36e9ef58c75f1fb07228db53110194125bc43c89",label:"AM",disabled:o,checked:!0}),(0,s.h)("ic-toggle-button",{key:"db789a3a2da2e3e4710bc74adca8974428296051",label:"PM",disabled:o}))),(0,s.h)("span",{key:"57c42d4771851df8d391a228361ec46743469a6b",id:this.selectedTimeInfoId,class:"sr-only","aria-live":"polite"},(0,s.h)("span",{key:"75ab730bdb14fbd585e4320aa00a98b3fb2eedf6",ref:e=>this.selectedTimeInfoEl=e,role:"status"})),(0,s.h)("ic-input-validation",{key:"2fb7638ca1deb728d2eed6c9c42e3d319a7d8198",status:b,message:v?null!==(e=this.validationText)&&void 0!==e?e:"":this.invalidTimeText,for:t,ariaLiveMode:p})))}static get delegatesFocus(){return!0}get el(){return(0,s.g)(this)}static get watchers(){return{hour:["watchInputHandler"],minute:["watchInputHandler"],second:["watchInputHandler"],millisecond:["watchInputHandler"],period:["watchInputHandler"],disabled:["watchDisabledHandler"],helperText:["watchHelperTextHandler"],max:["watchMaxHandler"],min:["watchMinHandler"],required:["watchRequiredHandler"],timeFormat:["watchTimeFormatHandler"]}}};a.style='/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%;}body{margin:0}main{display:block}h1{font-size:2em;margin:0.67em 0}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace, monospace;font-size:1em;}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em;}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible}button,select{text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font-style:inherit;vertical-align:baseline}:host{--ic-input-label-helpertext-padding:var(--ic-space-xs);--input-bg-color:var(--ic-time-picker-field-background);--ic-input-label-text-color:var(--ic-time-picker-label);--ic-input-label-helper-text-color:var(--ic-time-picker-subtitle);--border-color:var(--ic-time-picker-time-field-border-default);--border-color-disabled:var(--ic-time-picker-border-disabled);--border-color-hover:var(--ic-time-picker-time-field-border-hover);--border-color-pressed:var(--ic-time-picker-time-field-border-pressed);--border-error-color:var(--ic-time-picker-border-error);--border-error-color-hover:var(--ic-time-picker-border-error-hover);--border-error-color-pressed:var(--ic-time-picker-border-error-pressed);--border-success-color:var(--ic-time-picker-border-success);--border-success-color-hover:var(--ic-time-picker-border-success-hover);--border-success-color-pressed:var(--ic-time-picker-border-success-pressed);--border-warning-color:var(--ic-time-picker-border-warning);--border-warning-color-hover:var(--ic-time-picker-border-warning-hover);--border-warning-color-pressed:var(--ic-time-picker-border-warning-pressed);--input-width:calc((4 * var(--ic-space-xxl)) + var(--ic-space-xxs))}:host(.ic-time-input-disabled){--ic-input-label-text-color:var(--ic-time-picker-label-disabled);--ic-input-label-helper-text-color:var(--ic-time-picker-subtitle-disabled)}:host(.ic-time-input-disabled) input{color:var(--ic-time-picker-time-text-disabled)}:host(.ic-time-input-large){--input-width:calc(\n    (4 * var(--ic-space-xxl)) + var(--ic-space-xxs) + var(--ic-space-lg)\n  )}:host(.ic-time-input-small){--input-width:calc(\n    (3 * var(--ic-space-xxl)) + var(--ic-space-xxs) + var(--ic-space-xl)\n  )}.with-am-pm-toggle{display:flex;flex-direction:row}.am-pm-toggle ::part(button){min-width:-moz-fit-content;min-width:fit-content}.am-pm-toggle{margin-left:var(--ic-space-xs)}input{border:0;height:100%;padding:0;outline:none;background:none;-moz-appearance:textfield;-webkit-appearance:textfield;appearance:textfield;color:var(--ic-time-picker-time-text-default);caret-color:var(--ic-time-picker-typing-cursor)}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{-webkit-appearance:none}input:-webkit-autofill{box-shadow:0 0 0 var(--ic-space-sm) var(--ic-color-background-primary) inset;-webkit-text-fill-color:var(--ic-time-picker-time-text-default) !important}input::-moz-placeholder{color:var(--ic-time-picker-field-placeholder-text)}input::placeholder{color:var(--ic-time-picker-field-placeholder-text)}ic-input-component-container{cursor:text}ic-input-component-container .focus-indicator{padding:var(--ic-space-xxxs) var(--ic-space-xs);align-items:center}.time-inputs{color:var(--ic-time-picker-field-placeholder-text)}.hour-input{width:1.438rem}.minute-input{width:1.813rem}.second-input{width:1.18rem}.millisecond-input,.millisecond-input.fit-to-value{width:1.75rem}.fit-to-value{width:1.25rem}.sr-only{position:absolute;left:-9999px}.input-container{width:100%;display:flex;justify-content:space-between;align-items:center;position:relative}.action-buttons{display:flex;align-items:center}.show-clock-button-wrapper{display:flex;justify-content:center;align-items:center}.clear-button,.clock-button{border-radius:var(--ic-border-radius);transition:box-shadow var(--ic-easing-transition),\n    border-radius var(--ic-easing-transition);margin:0}.clear-button.hidden{display:none}.clear-button:focus,.clock-button:focus,.clear-button:active,.clock-button:active{background-color:var(--ic-color-focus-inner) !important;box-shadow:inset 0 0 0 0.125rem var(--ic-color-focus-outer) !important;border-radius:0.25rem}.clock-button:focus,.clock-button:active{--ic-button-tertiary-text-active:var(--ic-atoms-input-clear-button-focus);--ic-button-tertiary-text-hover-active:var(\n    --ic-atoms-input-clear-button-focus\n  );--ic-button-tertiary-text-pressed-active:var(\n    --ic-atoms-input-clear-button-focus\n  )}.clear-button:focus,.clock-button:focus,.clear-button:active *,.clock-button:active *{fill:var(--ic-atoms-input-clear-button-focus)}.clear-button svg{color:var(--ic-time-picker-clear-icon)}.clear-button:focus svg{color:var(--ic-atoms-input-clear-button-focus)}.divider{margin:0 var(--ic-space-xxs);width:var(--ic-space-1px);background-color:var(--ic-atoms-input-divider);border-radius:var(--ic-space-1px)}.divider.small{height:var(--ic-space-md)}.divider.medium{height:calc(var(--ic-space-sm) + var(--ic-space-xs))}.divider.large{height:var(--ic-space-lg)}ic-input-validation{--ic-input-validation-status-text-color:var(--ic-time-picker-status-text);--ic-input-validation-error:var(--ic-time-picker-icon-error);--ic-input-validation-warning-icon-color:var(--ic-time-picker-icon-warning);--ic-input-validation-success-icon-color:var(--ic-time-picker-icon-success)}@media (forced-colors: active){.clear-button svg{color:currentcolor}}'}}]);